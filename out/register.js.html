<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: register.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: register.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let users = [];
let loaduser = [];
let todo = [
    {
        title: "CSS Architecture Planning",
        description: "Define CSS naming conventions and structures",
        date: "14/09/2024",
        category: "Technical Task",
        prio: "urgent",
        subtasks: [
            {
                idcounter: 0,
            },
            {
                id: 1,
                name: "who does what",
                isChecked: true
            },
            {
                id: 2,
                name: "what time",
                isChecked: false
            }
        ],
        contacts: [
            { idcounter: 2 },
            {
                id: 1,
                firstname: "Sofia",
                lastname: "M체ller",
                email: "sofiam@gmail.com",
                phone: "+49 1111 111 11 1",
                color: "#00BEE8",
            },
            {
                id: 2,
                firstname: "Anton",
                lastname: "Mayer",
                email: "antom@gmail.com",
                phone: "+49 1111 111 11 1",
                color: "#FF7A00",
            },
        ],
    },]
let tasksinprogress = [
    {
        title: "Daily Kochwelt Recipe",
        description: "Implement daily recipe and portion calculator",
        date: "14/09/2024",
        category: "User Story",
        prio: "low",
        subtasks: [
            {
                idcounter: 0,
            },
        ],
        contacts: [
            { idcounter: 2 },
            {
                id: 3,
                firstname: "Benedikt",
                lastname: "Ziegler",
                email: "benedikt@gmail.com",
                phone: "+49 1111 111 11 1",
                color: "#6E52FF",
            },
            {
                id: 4,
                firstname: "David",
                lastname: "Eisenberg",
                email: "davidberg@gmail.com",
                phone: "+49 1111 111 11 1",
                color: "#FC71FF",
            },
            {
                id: 5,
                firstname: "Eva",
                lastname: "Fischer",
                email: "eva@gmail.com",
                phone: "+49 1111 111 11 1",
                color: "#FFBB2B",
            },
        ],
    },]
let awaitingfeedback = [{
    title: "HTML Base Template Creation",
    description: "Create reusable HTML base templates",
    date: "14/09/2024",
    category: "Technical Task",
    prio: "low",
    subtasks: [
        {
            idcounter: 0,
        },
    ],
    contacts: [
        { idcounter: 2 },
        {
            id: 3,
            firstname: "Benedikt",
            lastname: "Ziegler",
            email: "benedikt@gmail.com",
            phone: "+49 1111 111 11 1",
            color: "#6E52FF",
        },
        {
            id: 4,
            firstname: "David",
            lastname: "Eisenberg",
            email: "davidberg@gmail.com",
            phone: "+49 1111 111 11 1",
            color: "#FC71FF",
        },
    ],
},]
let Urgent = [{
    title: "CSS Architecture Planning",
    description: "Define CSS naming conventions and structures",
    date: "14/09/2024",
    category: "Technical Task",
    prio: "urgent",
    subtasks: [
        {
            idcounter: 0,
        },
        {
            id: 1,
            name: "who does what",
            isChecked: true
        },
        {
            id: 2,
            name: "what time",
            isChecked: false
        }
    ],
    contacts: [
        { idcounter: 2 },
        {
            id: 1,
            firstname: "Sofia",
            lastname: "M체ller",
            email: "sofiam@gmail.com",
            phone: "+49 1111 111 11 1",
            color: "#00BEE8",
        },
        {
            id: 2,
            firstname: "Anton",
            lastname: "Mayer",
            email: "antom@gmail.com",
            phone: "+49 1111 111 11 1",
            color: "#FF7A00",
        },
    ],
},]
let contacts = [
    { idcounter: 9 },
    {
        id: 0,
        firstname: "Sofia",
        lastname: "M체ller",
        email: "sofiam@gmail.com",
        phone: "+49 1111 111 11 1",
        color: "#00BEE8",
    },
    {
        id: 1,
        firstname: "Anton",
        lastname: "Mayer",
        email: "antom@gmail.com",
        phone: "+49 1111 111 11 1",
        color: "#FF7A00",
    },
    {
        id: 2,
        firstname: "Anja",
        lastname: "Schulz",
        email: "schulz@hotmail.com",
        phone: "+49 1111 111 11 1",
        color: "#9327FF",
    },
    {
        id: 3,
        firstname: "Benedikt",
        lastname: "Ziegler",
        email: "benedikt@gmail.com",
        phone: "+49 1111 111 11 1",
        color: "#6E52FF",
    },
    {
        id: 4,
        firstname: "David",
        lastname: "Eisenberg",
        email: "davidberg@gmail.com",
        phone: "+49 1111 111 11 1",
        color: "#FC71FF",
    },
    {
        id: 5,
        firstname: "Eva",
        lastname: "Fischer",
        email: "eva@gmail.com",
        phone: "+49 1111 111 11 1",
        color: "#FFBB2B",
    },]
/**
 * get user data and remove/reset sessionStorage items 
 */
async function loadstorageitems() {
    if (localStorage.getItem("userI") === null) {
    } else {
        if (localStorage.getItem("userI").length > 0) {
            window.location.assign("summary.html");
        }
    }
    loadUsers();
    sessionStorage.removeItem("userI");
    sessionStorage.removeItem("Guest");
    sessionStorage.removeItem("handyWelcomePlayed");
}
/**
 * get user data and remove/reset sessionStorage items 
 */
async function loadUsers() {
    users = await getItem("users");
}
/**
 * register function
 */
async function register() {
    let sameemail = users.find((u) => u.email == register_email.value);
    if (sameemail) {
        register_email.setCustomValidity("Email already exists");
        register_email.reportValidity();
    } else {
        ifelseRegister();
    }
    setTimeout(function () {
        register_email.setCustomValidity("");
    }, 1400);
}
/**
 * if password dont match = error, else create user and reset form 
 */
async function ifelseRegister() {
    if (register_pw_sign_in.value != register_pw_sign_in_confirm.value) {
        register_pw_sign_in_confirm.setCustomValidity("Passwords Don't Match");
        register_pw_sign_in_confirm.reportValidity();
    } else {
        users.push({
            name: register_name.value,
            email: register_email.value,
            password: register_pw_sign_in.value,
            todo,
            done: [],
            Urgent,
            tasksinprogress,
            awaitingfeedback,
            contacts,
        });
        await setItem("users", JSON.stringify(users));
        resetForm();
    }
    setTimeout(function () {
        register_pw_sign_in_confirm.setCustomValidity("");
    }, 1400);
}
/**
 * login function, if checkbox true = load in localstorage, else load in sessionstorage
 */
function login() {
    let findusers = users.find((u) => u.email == register_login_value.value &amp;&amp; u.password == register_pw_login_value.value);

    if (login_checkbox.checked == true) {
        LoginLocalstorage(findusers);
    } else {
        Loginsessionstorage(findusers);
    }
}
/**
 * if find user = login, else = error
 */
function LoginLocalstorage(findusers) {
    if (findusers) {
        let userI = users.findIndex((u) => u.email == register_login_value.value &amp;&amp; u.password == register_pw_login_value.value);
        loaduser.push(userI);
        localStorage.setItem("userI", loaduser);
        window.location.assign("summary.html");
        loginValueEmpty();
    } else {
        register_pw_login_value.setCustomValidity("Wrong Password or Email");
        register_pw_login_value.reportValidity();
    }
    setTimeout(function () {
        register_pw_login_value.setCustomValidity("");
    }, 1400);
}
/**
 * if find user = login, else = error (sessionstorage)
 */
function Loginsessionstorage(findusers) {
    if (findusers) {
        let userI = users.findIndex((u) => u.email == register_login_value.value &amp;&amp; u.password == register_pw_login_value.value);
        loaduser.push(userI);
        sessionStorage.setItem("userI", loaduser);
        window.location.assign("summary.html");
        loginValueEmpty();
    } else {
        register_pw_login_value.setCustomValidity("Wrong Password or Email");
        register_pw_login_value.reportValidity();
    }
    setTimeout(function () {
        register_pw_login_value.setCustomValidity("");
    }, 1400);
}
/**
 * Guestlogin
 */
function registerGuestLogin() {
    loaduser = 0;
    users = [{
        name: "Guest",
        email: "",
        password: "",
        todo,
        done: [],
        Urgent,
        tasksinprogress,
        awaitingfeedback,
        contacts,
    },];
    sessionStorage.setItem("userI", loaduser);
    sessionStorage.setItem("Guest", JSON.stringify(users));
}
/**
 * reset register Form, send you back to login, and singedupsucces screen
 */
function resetForm() {
    registerValueEmpty();
    backToLogin();
    singedUpSucces();
}
/**
 * reset register Form
 */
function registerValueEmpty() {
    register_name.value = "";
    register_email.value = "";
    register_pw_sign_in.value = "";
    register_pw_sign_in_confirm.value = "";
    register_checkbox.checked = false;
}
/**
 * singedupsucces screen
 */
function singedUpSucces() {
    let singedupsucces = document.getElementById("singed_Up_Succes");
    singedupsucces.classList.replace("d-none", "singed-Up-Succes");
    setTimeout(singedUpSuccesRemove, 2000);
}
/**
 * singedupsucces screen remove
 */
function singedUpSuccesRemove() {
    let singedupsucces = document.getElementById("singed_Up_Succes");
    singedupsucces.classList.replace("singed-Up-Succes", "d-none");
}
/**
 * change password img if onlcick
 */
function changeLoginImg() {
    let loginpwimg = document.getElementById("register_pw_login_img");
    if (loginpwimg.src.endsWith("assets/img/register_lock.png")) {
        loginpwimg.src = "assets/img/visibility_off.png";
    }
}
/**
 * change password img if onlcick
 */
function changeSigninImg() {
    let signinimg = document.getElementById("register_pw_sign_in_img");
    let signinimgconfirm = document.getElementById("register_pw_sign_in_confirm_img");
    if (signinimg.src.endsWith("assets/img/register_lock.png")) {
        signinimg.src = "assets/img/visibility_off.png";
        signinimgconfirm.src = "assets/img/visibility_off.png";
    }
    if (signinimgconfirm.src.endsWith("assets/img/register_lock.png")) {
        signinimg.src = "assets/img/visibility_off.png";
        signinimgconfirm.src = "assets/img/visibility_off.png";
    }
}
/**
 * encrypt password if onlcick
 */
function encryptPassword1() {
    let loginpw = document.getElementById("register_pw_login_value");
    let loginpwimg = document.getElementById("register_pw_login_img");
    if (loginpwimg.src.endsWith("assets/img/visibility_off.png")) {
        loginpw.type = "text";
        loginpwimg.src = "assets/img/visibility.png";
    } else {
        loginpw.type = "password";
        loginpwimg.src = "assets/img/visibility_off.png";
    }
}
/**
 * encrypt password if onlcick
 */
function encryptPassword2() {
    let signinpw = document.getElementById("register_pw_sign_in");
    let signinpimg = document.getElementById("register_pw_sign_in_img");
    let signinpwconfirm = document.getElementById("register_pw_sign_in_confirm");
    let signinpwconfirmimg = document.getElementById("register_pw_sign_in_confirm_img");
    encryptPassword2IfElse(signinpw, signinpimg, signinpwconfirm, signinpwconfirmimg);
}
/**
 * encrypt password if onlcick
 */
function encryptPassword2IfElse(signinpw, signinpimg, signinpwconfirm, signinpwconfirmimg) {
    if (signinpimg.src.endsWith("assets/img/visibility_off.png")) {
        signinpw.type = "text";
        signinpwconfirm.type = "text";
        signinpimg.src = "assets/img/visibility.png";
        signinpwconfirmimg.src = "assets/img/visibility.png";
    } else {
        signinpw.type = "password";
        signinpwconfirm.type = "password";
        signinpimg.src = "assets/img/visibility_off.png";
        signinpwconfirmimg.src = "assets/img/visibility_off.png";
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#LoginLocalstorage">LoginLocalstorage</a></li><li><a href="global.html#Loginsessionstorage">Loginsessionstorage</a></li><li><a href="global.html#addAddTaskEventListeners">addAddTaskEventListeners</a></li><li><a href="global.html#addDataFromInputs">addDataFromInputs</a></li><li><a href="global.html#addDataToCurrentTask">addDataToCurrentTask</a></li><li><a href="global.html#addPrio">addPrio</a></li><li><a href="global.html#addSubtask">addSubtask</a></li><li><a href="global.html#addToTasks">addToTasks</a></li><li><a href="global.html#allowDrop">allowDrop</a></li><li><a href="global.html#applyChangesToTask">applyChangesToTask</a></li><li><a href="global.html#backToLogin">backToLogin</a></li><li><a href="global.html#boardinit">boardinit</a></li><li><a href="global.html#bordAddNewTask">bordAddNewTask</a></li><li><a href="global.html#buildNewContactArray">buildNewContactArray</a></li><li><a href="global.html#capitalize">capitalize</a></li><li><a href="global.html#changeLoginImg">changeLoginImg</a></li><li><a href="global.html#changeSigninImg">changeSigninImg</a></li><li><a href="global.html#changeSubtaskIcons">changeSubtaskIcons</a></li><li><a href="global.html#changeTaskInUserArray">changeTaskInUserArray</a></li><li><a href="global.html#changeViewMobile">changeViewMobile</a></li><li><a href="global.html#choosenSubtasks">choosenSubtasks</a></li><li><a href="global.html#clearAddTaskArrays">clearAddTaskArrays</a></li><li><a href="global.html#clearAddTaskForm">clearAddTaskForm</a></li><li><a href="global.html#clearContactDetails">clearContactDetails</a></li><li><a href="global.html#clearContainers">clearContainers</a></li><li><a href="global.html#clearErrorStyle">clearErrorStyle</a></li><li><a href="global.html#clearInput">clearInput</a></li><li><a href="global.html#clearInputs">clearInputs</a></li><li><a href="global.html#clearPrioButtons">clearPrioButtons</a></li><li><a href="global.html#closeCard">closeCard</a></li><li><a href="global.html#closeContactsSideMenu">closeContactsSideMenu</a></li><li><a href="global.html#closeMenu">closeMenu</a></li><li><a href="global.html#closeOverlay">closeOverlay</a></li><li><a href="global.html#confirmChangeSubtask">confirmChangeSubtask</a></li><li><a href="global.html#contactsIfElse">contactsIfElse</a></li><li><a href="global.html#countSelectedCheckboxes">countSelectedCheckboxes</a></li><li><a href="global.html#delay">delay</a></li><li><a href="global.html#deleteContact">deleteContact</a></li><li><a href="global.html#deleteSingleTask">deleteSingleTask</a></li><li><a href="global.html#deleteSubtask">deleteSubtask</a></li><li><a href="global.html#dontChangeFocus">dontChangeFocus</a></li><li><a href="global.html#drag">drag</a></li><li><a href="global.html#dragAwaitFeedback">dragAwaitFeedback</a></li><li><a href="global.html#dragDone">dragDone</a></li><li><a href="global.html#dragInProgress">dragInProgress</a></li><li><a href="global.html#dragTodo">dragTodo</a></li><li><a href="global.html#dropOn">dropOn</a></li><li><a href="global.html#editContactsFactory">editContactsFactory</a></li><li><a href="global.html#editSingleTask">editSingleTask</a></li><li><a href="global.html#editSubtask">editSubtask</a></li><li><a href="global.html#editSubtaskFactory">editSubtaskFactory</a></li><li><a href="global.html#emptyBoxHtml">emptyBoxHtml</a></li><li><a href="global.html#encryptPassword1">encryptPassword1</a></li><li><a href="global.html#encryptPassword2">encryptPassword2</a></li><li><a href="global.html#encryptPassword2IfElse">encryptPassword2IfElse</a></li><li><a href="global.html#filterArray">filterArray</a></li><li><a href="global.html#filterResults">filterResults</a></li><li><a href="global.html#formatDate">formatDate</a></li><li><a href="global.html#formatName">formatName</a></li><li><a href="global.html#formatOutputDate">formatOutputDate</a></li><li><a href="global.html#fstopPropagation">fstopPropagation</a></li><li><a href="global.html#generateContactData">generateContactData</a></li><li><a href="global.html#getAllAddTaskFormInputs">getAllAddTaskFormInputs</a></li><li><a href="global.html#getItem">getItem</a></li><li><a href="global.html#getSearchInput">getSearchInput</a></li><li><a href="global.html#guestTime">guestTime</a></li><li><a href="global.html#handleClickPrio">handleClickPrio</a></li><li><a href="global.html#ifLocalStorageExist">ifLocalStorageExist</a></li><li><a href="global.html#ifSessionStorageExist">ifSessionStorageExist</a></li><li><a href="global.html#ifelseRegister">ifelseRegister</a></li><li><a href="global.html#informationTodo">informationTodo</a></li><li><a href="global.html#informationsFactory">informationsFactory</a></li><li><a href="global.html#initAddTask">initAddTask</a></li><li><a href="global.html#initContacts">initContacts</a></li><li><a href="global.html#loadAllIfElse">loadAllIfElse</a></li><li><a href="global.html#loadAllIfElseLocalOrSession">loadAllIfElseLocalOrSession</a></li><li><a href="global.html#loadStorage">loadStorage</a></li><li><a href="global.html#loadSummaryInnerhtml">loadSummaryInnerhtml</a></li><li><a href="global.html#loadSummaryProject">loadSummaryProject</a></li><li><a href="global.html#loadUsers">loadUsers</a></li><li><a href="global.html#loadstorageitems">loadstorageitems</a></li><li><a href="global.html#logOut">logOut</a></li><li><a href="global.html#login">login</a></li><li><a href="global.html#loginValueEmpty">loginValueEmpty</a></li><li><a href="global.html#menuInnerHTML">menuInnerHTML</a></li><li><a href="global.html#menuLoginName">menuLoginName</a></li><li><a href="global.html#moveTask">moveTask</a></li><li><a href="global.html#noCloseContent">noCloseContent</a></li><li><a href="global.html#openBordTask">openBordTask</a></li><li><a href="global.html#openContact">openContact</a></li><li><a href="global.html#openContactAdding">openContactAdding</a></li><li><a href="global.html#openContactEdition">openContactEdition</a></li><li><a href="global.html#openContactsSideMenu">openContactsSideMenu</a></li><li><a href="global.html#openDropDownMenu">openDropDownMenu</a></li><li><a href="global.html#openMenu">openMenu</a></li><li><a href="global.html#openMoveMenue">openMoveMenue</a></li><li><a href="global.html#openMoveTaskMenu">openMoveTaskMenu</a></li><li><a href="global.html#openTask">openTask</a></li><li><a href="global.html#pushTaskToUserArray">pushTaskToUserArray</a></li><li><a href="global.html#register">register</a></li><li><a href="global.html#registerGuestLogin">registerGuestLogin</a></li><li><a href="global.html#registerValueEmpty">registerValueEmpty</a></li><li><a href="global.html#renderAssignedTo">renderAssignedTo</a></li><li><a href="global.html#renderCategory">renderCategory</a></li><li><a href="global.html#renderContacts">renderContacts</a></li><li><a href="global.html#renderResults">renderResults</a></li><li><a href="global.html#renderResultsCategory">renderResultsCategory</a></li><li><a href="global.html#renderSelectedContacts">renderSelectedContacts</a></li><li><a href="global.html#renderTasks">renderTasks</a></li><li><a href="global.html#resetForm">resetForm</a></li><li><a href="global.html#saveEditedContact">saveEditedContact</a></li><li><a href="global.html#saveEditedTask">saveEditedTask</a></li><li><a href="global.html#saveNewContact">saveNewContact</a></li><li><a href="global.html#saveTask">saveTask</a></li><li><a href="global.html#saveToServer">saveToServer</a></li><li><a href="global.html#searchTaskPlace">searchTaskPlace</a></li><li><a href="global.html#searchTitleStart">searchTitleStart</a></li><li><a href="global.html#selectCategory">selectCategory</a></li><li><a href="global.html#selectContactById">selectContactById</a></li><li><a href="global.html#selectContacts">selectContacts</a></li><li><a href="global.html#selectContactsOpenTask">selectContactsOpenTask</a></li><li><a href="global.html#selectPrio">selectPrio</a></li><li><a href="global.html#selectPriority">selectPriority</a></li><li><a href="global.html#selectPriorityOpenTask">selectPriorityOpenTask</a></li><li><a href="global.html#selectSubtaskHtml">selectSubtaskHtml</a></li><li><a href="global.html#selectSubtasks">selectSubtasks</a></li><li><a href="global.html#selectTaskCategory">selectTaskCategory</a></li><li><a href="global.html#selectTaskContact">selectTaskContact</a></li><li><a href="global.html#setFilter">setFilter</a></li><li><a href="global.html#setFocusOnElement">setFocusOnElement</a></li><li><a href="global.html#setItem">setItem</a></li><li><a href="global.html#setMinDate">setMinDate</a></li><li><a href="global.html#setSubtaskData">setSubtaskData</a></li><li><a href="global.html#showEmptyHtmlAwaitfeedback">showEmptyHtmlAwaitfeedback</a></li><li><a href="global.html#showEmptyHtmlDone">showEmptyHtmlDone</a></li><li><a href="global.html#showEmptyHtmlInprogress">showEmptyHtmlInprogress</a></li><li><a href="global.html#showEmptyHtmlTodo">showEmptyHtmlTodo</a></li><li><a href="global.html#showHtml">showHtml</a></li><li><a href="global.html#showTaskCategoryBig">showTaskCategoryBig</a></li><li><a href="global.html#showTaskHtml">showTaskHtml</a></li><li><a href="global.html#showTaskNotification">showTaskNotification</a></li><li><a href="global.html#signUpBox">signUpBox</a></li><li><a href="global.html#singedUpSucces">singedUpSucces</a></li><li><a href="global.html#singedUpSuccesRemove">singedUpSuccesRemove</a></li><li><a href="global.html#sortContacts">sortContacts</a></li><li><a href="global.html#summaryDeadline">summaryDeadline</a></li><li><a href="global.html#switchToDefault">switchToDefault</a></li><li><a href="global.html#switchViewOnSize">switchViewOnSize</a></li><li><a href="global.html#timeIfElse">timeIfElse</a></li><li><a href="global.html#transferDate">transferDate</a></li><li><a href="global.html#unselectSelected">unselectSelected</a></li><li><a href="global.html#updateEmptyHtml">updateEmptyHtml</a></li><li><a href="global.html#updateProgressBar">updateProgressBar</a></li><li><a href="global.html#updateSelectedCheckboxes">updateSelectedCheckboxes</a></li><li><a href="global.html#userTime">userTime</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sat Apr 13 2024 16:04:43 GMT+0200 (Mitteleurop채ische Sommerzeit)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
